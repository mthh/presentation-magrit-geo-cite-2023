<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Introduction au logiciel de cartographie th√©matique Magrit</title>
	<meta name="description" content="Introduction au logiciel de cartographie th√©matique Magrit">
	<meta name="author" content="Matthieu Viry">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/black.css" id="theme">
	<link rel="stylesheet" href="plugin/chalkboard/style.css">
	<link rel="stylesheet" href="plugin/customcontrols/style.css">
	<link rel="stylesheet" href="css/http_cdn.jsdelivr.net_npm_reveal.js-plugins_menu_font-awesome_css_fontawesome.css">
	<style>
		.valign-middle, .valign-middle > * {
			vertical-align: middle;
		}
		.footer-intro {
			background-color: white;
			position: absolute;
			width: 100%;
			color: rgb(2, 2, 90);
			font-weight: 600;
			padding: 20px;
			display: flex;
			justify-content: space-between;
			bottom: 0;
		}
		.footer-intro > * {
			margin: auto !important;
		}
		.reveal .controls {
			bottom: 0px;
			right: 8px;
		}

		:root {
			--r-main-font-size: 38px;
		}
		h3, h4, h5 {
			text-transform: none !important;
		}
		.light-small {
			font-size: 0.75em;
		}
		.ta-left {
			text-align: left;
		}
		.ta-right {
			text-align: right;
		}
	</style>
</head>
<body>
	<div class="reveal">
		<div class="footer-intro">
			<small>Matthieu Viry, Timoth√©e Giraud, Nicolas Lambert, Ronan Ysebaert</small> <img src="images/logos-footer.png" width="400px" >
		</div>
		<div class="slides">
			<section data-markdown data-fullscreen>
				<textarea data-template>
				<a href="https://magrit.cnrs.fr" target="_blank">
					<img src="images/magrit_banner-crop.png" alt="Magrit logo" style="width: 100%; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
				</a>

				## Introduction au logiciel
				## de cartographie th√©matique <a href="https://magrit.cnrs.fr" target="_blank">Magrit</a>
				
				<br>

				16 mars 2023 - Campus Condorcet (Aubervilliers)


				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
				## Magrit... pour faire quoi ?

				--

				<h3 style="display: none;">Fonctionnalit√©s cartographiques</h3>
				<img src="images/magrit-functions.png">

				--
				<h3 style="display: none;">Cha√Æne de traitement cartographique</h3>
				<img src="images/magrit-functions2.png" style="width: 650px">

				--

				<h3 style="display: none;">Exemples de cartes</h3>
				<img src="images/carte-typo-eu.png" style="width: 400px; float: left;">

				<img src="images/carte-co2.png" style="width: 550px; float: right;">

				<img src="images/carte-cinema-pot.png" style="width: 400px; float: left;">

				</textarea>
			</section>

			<section data-markdown>
				<textarea data-template>
				## Magrit - ses points forts

				<div class="light-small">

				- **Simplicit√© d'utilisation** (application Web sans installation n√©cessaire, pr√©paration d'une carte en 2 minutes)

				- **Diff√©rents formats de donn√©es en entr√©e** (CSV, ESRI Shapefile, GeoJSON, GML, etc.)

				- **Personnalisation des cartes** (habillage, l√©gende, etc.)

				- Nombreuses **projections cartographiques** support√©es

				- **Export SVG** permettant de retoucher les cartes produites (Inkscape, Illustrator, etc.)

				- Sauvegarde d'un fichier projet permettant de reprendre le travail ult√©rieurement

				</div>

				--

				## Magrit - ses limites

				<div class="light-small">

				- Pas un SIG (pas de g√©otraitements - pas ou de modifications des donn√©es)

				- Pas d'analyses statistiques multivari√©es (r√©gression, etc.)

				- Pas de digitalisation

				- N√©cessit√© d'utiliser de l'information g√©ographique (donn√©es spatialis√©es) ‚Üí Pas d'utilisation de fond de carte .svg / .ai

				</div>
				</textarea>
			</section>

			<section data-markdown>
				<textarea data-template>
				## D√©mo

				<p class="ta-left"><b>Donn√©es</b></p>

				- [D√©coupage des quartiers de Paris (GeoJSON)](data/demo/quartier_paris.geojson)

				- [Donn√©es de Population (CSV)](data/demo/quartier_paris_pop.csv)

				<br>

				<p class="ta-left"><b>Objectif</b></p>

				- Importer et joindre les donn√©es

				- Calculer un nouveau champ

				- Combiner plusieurs repr√©sentations

				- Exporter la carte

				<aside class="notes">
					üìù
					<ul>
					<li>Ajout geojson</li>
					<li>Choix Lambert 93</li>
					<li>Ajout CSV donn√©es + jointures</li>
					<li>Repr√©sentation Symbols proportionnels sur champ population 2012</li>
					<li>Calcul champ densit√©_pop_2012</li>
					<li>Repr√©sentation choropl√®the sur densit√© pop 2012</li>
					<li>Modification de la l√©gende pour layout horizontal</li>
					<li>Repr√©sentation anamorphose, puis la cacher</li>
					<li>Ajout d'√©l√©ments d'habillage : √©chelle et nord</li>
					<li>Ajout d'un titre</li>
					<li>Export en SVG</li>
					<li>Montrer export en geojson du r√©sultat de l'anamorphose ?</li>
					</ul>
				</aside>
				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
				## Exercice 1

				- **Objectifs** : Porter une analyse critique sur une carte existante puis chercher √† la reproduire avec Magrit

				<img src="images/carte_uefa.png" style="width: 50%">

				--

				<img src="images/carte_uefa.png" style="width: 690px">

				--

				<div class="ta-left"><p><b>Source de donn√©es pour les fonds de carte √† l'√©chelle du globe</b> :</p>

				
				- http://naturalearthdata.com/ (trouver le bon fond de carte : niveau de d√©tails, pr√©sence des 50 pays concern√©s par le jeu de donn√©es, etc.)
				
				<br><br><img src="images/screenshot-wikipedia_uefa.png" style="float: right; width: 320px;"/>
				

				<p><b>Donn√©es des victoires par pays</b> :</p>

				- [data_uefa.csv](data/ex1/data_uefa.csv) 

				<div style="width: 50%;"><small>Source: <a href="https://fr.wikipedia.org/wiki/Ligue_des_champions_de_l%27UEFA">Wikipedia - Ligue des champions de l'UEFA</a></small></div>

				</div>


				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
				## Exercice 2

				<div class="light-small">

				- **Objectif th√©matique** : Faire une carte de l'√©volution 1968-2019 de la population de France M√©tropolitaine

				- **Objectifs techniques** :  R√©aliser une carte choropl√®the, choisir une m√©thode de discr√©tisation et une palette de couleurs adapt√©e.

				- **Donn√©es** :

					- Fond de carte des d√©partements (disponible dans Magrit)

					- Donn√©es de population par d√©partement (source: INSEE) - https://www.insee.fr/fr/statistiques/1893204

				
				</div>
				
				--

				### √âtapes √† suivre

				<div class="light-small">

				- **√âtape 1** : Calculer la variable √† repr√©senter √† partir du tableur de l'INSEE et exporter la table en CSV

				- **√âtape 2** : Importer les donn√©es CSV dans Magrit

				- **√âtape 3** : Importer le fond de carte des d√©partements de France M√©tropolitaine dans Magrit

				- **√âtape 4** : Faire les bons choix de s√©miologie et d'habillage jusqu'√† l'obtention d'une carte finalis√©e

				</div>

				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
				## Exercice 3

				<div class="light-small">

				- **Objectif th√©matique** : Analyser la structure de l'emploi dans la r√©gion Hauts-de-France en 2014.

				- **Objectifs techniques** : Combiner plusieurs modes de repr√©sentation sur une m√™me carte et mettre en ≈ìuvre des repr√©sentation cartographiques avanc√©es

				- **Donn√©es** :

					- [Fond de carte des communes de la r√©gion Hauts-de-France](data/ex3/Communes_Region.zip) (source : IGN)

					- [Fond de carte des d√©partements de la r√©gion Hauts-de-France](data/ex3/departements.zip) (source : IGN)

					- [Structure de la population active de 25 √† 54 ans par commune](data/ex3/) (source : INSEE)

				<small><i>NB : les donn√©es ont √©t√© mises en forme avec R pour √™tre import√©es dans Magrit (extrait des communes des Hauts-de-France et calcul des ratios et de la cat√©gorie dominante)</i></small>

				</div>
				--

				<div class="light-small">
				
				### √âtapes √† suivre

				- **√âtape 1** : Importer toutes les donn√©es dans Magrit et r√©aliser la jointure

				- **√âtape 2** : Choisir la ou les repr√©sentations appropri√©es

				- **√âtape 3** : Habiller la carte _(choix d'un titre, modification des l√©gendes, ajout de labels, ajout du nom de l'auteur et des sources, d'un logo, etc.)_

				- **√âtape 4** : Exporter la carte _(SVG ou PNG)_

				</div>

				--

				### Exemple de r√©sultat

				<img src="./images/hauts-de-france-pop-emploi.png" style="width: 800px; background-color: white;">

				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
				## Conseils pour une utilisation avanc√©e de Magrit

				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>

				## Options pour l'habillage de la carte

				--

				### Ajouter une ombre √† une couche

				<img src="images/fr-dep1.png" style="display: inline-block;width:39%;">
			
				<img src="images/fr-dep2.png" style="display: inline-block;width:39%;">

				--

				<img src="images/panneau-propriete-couche.png" style="display: inline-block;width:40%;">

			
				
				--

				### Aligner pr√©cis√©ment les √©l√©ments d'habillage

				--

				<h3 style="display:none;">Aligner pr√©cis√©ment les √©l√©ments d'habillage (suite)</h3>
				<img src="images/alignement1.png">

				--

				<h3 style="display:none;">Aligner pr√©cis√©ment les √©l√©ments d'habillage (suite)</h3>

				Apr√®s activation de la fonctionnalit√©, des guides rouges apparaissent lors du d√©placement des √©l√©ments pour guider leur
				alignement les uns par rapport aux autres (*"√† la Powerpoint"*)

				<img src="images/alignement0.png" style="background-color: white; width: 130px;">

				--

				<h3 style="display:none;">Aligner pr√©cis√©ment les √©l√©ments d'habillage (suite)</h3>

				<img src="images/alignement2.png">

				--

				<h3 style="display:none;">Aligner pr√©cis√©ment les √©l√©ments d'habillage (suite)</h3>

				<img src="images/alignement3.png">

				--

				### Ajouter un contour autour du texte

				<small><em>Pour am√©liorer la lisibilit√© de certains textes<br>(sur un fond sombre, lors du chevauchement de certaines portions du fond de carte, etc.).</em></small>

				<div class="fragment">
				<img src="images/ombre_texte_export.png" style="float:left;width: 49%;">
				<img src="images/ombre_texte_export2.png" style="float: right;width: 49%;">
				</div>

				<small class="fragment"><em>Disponible sur l'√©l√©ment "titre", sur l'√©l√©ment "annotation de texte" et sur les couches de labels.</em></small>

				</textarea>
			</section>
			<section data-markdown data-fullscreen>
				<textarea data-template>
				

				## Ajouter un carton de localisation

				<img src="images/carton-only.png">
				--

				<h3 style="display:none;">Ajouter un carton de localisation (suite)</h3>

				<img src="images/carton1.png" style="width: 90%;">

				--

				<h3 style="display:none;">Ajouter un carton de localisation (suite)</h3>

				<img src="images/carton.gif">


				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>

				## Options pour la personnalisation des √©l√©ments de l√©gende
				
				
				--

				<h3 style="display:none;">Options pour la personnalisation des √©l√©ments de l√©gende (suite)</h3>

				**Options disponibles :**

				- Arrondir ou choisir les valeurs affich√©es
				- Choisir la disposition (horizontale-verticale / symboles encastr√©s ou non)
				- Personnaliser le texte affich√©
				- ...


				--

				<h3 style="display:none;">Options pour la personnalisation des √©l√©ments de l√©gende (suite)</h3>

				**Pourquoi se limiter aux possibilit√©s offertes par les options de la l√©gende ?**

				**Il est par exemple possible d'utiliser une annotation de texte avec une police personnalis√©e**

				<img src="images/legende_custom2.png" style="width: 30%;">

				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>

				## Plus d'astuces ?
				
				
				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>

				## Installer Magrit ?
				
				- Pour l'utiliser sans internet

				- Pour traiter des donn√©es sensibles en local

				- Pour b√©n√©ficier de meilleures performances

				- L'installer sur un *Raspberry Pi* pour enseigner la cartographie √† une classe sans acc√®s au Web ?

				<div class="fragment">
				<img src="images/Raspberry_Pi_4_Model_B_-_Side.jpg" style="width: 300px; float:left;">
				<img src="images/docker-hub-magrit-multi.png" style="width: 600px; float:right;">
				</div>

				--

				### Installer Magrit avec Docker

				<img src="images/DOCKER_LOGO_CC.png" style="width: 200px;">

				- **Compatibilit√©** : Tous les OS qui supportent Docker (Windows, Mac, Linux, etc.)

				- **Pr√©requis** : Docker install√© sur votre machine

				--

				### Installer Magrit avec Docker (suite)

				- **En ligne de commande (option 1)** : <br>

					- Lors de la premi√®re utilisation (t√©l√©chargement de l'image et d√©marrage) :

							docker run -d -p "9999:9999" --name magrit magrit/magrit

					- Pour l'arr√™ter :

							docker stop magrit

					- Pour le red√©marrer :

							docker start magrit

				--

				### Installer Magrit avec Docker (suite)

				- **En utilisant le GUI Docker Desktop (option 2)** :

				<img src="images/docker-desktop-ui.png" style="width: 800px"/>
				--

				<img src="images/docker-desktop-search-magrit.png" style="width: 800px"/>

				<small>*Chercher "Magrit" dans la barre de recherche, s√©lectionner l'image __magrit/magrit__ et cliquer sur __Pull__*.</small>

				--

				<img src="images/docker-desktop-images.png" style="width: 800px"/>

				<small>*Dans le menu __Images__, cliquer sur le bouton* ‚ñ∂Ô∏è *de l'image __magrit/magrit__*.</small>

				--

				<img src="images/docker-desktop-run-options.png" style="width: 800px"/>

				<small>*Renseigner le port sur lequel l'application doit √™tre expos√©e (par exemple 9999)*.</small>

				--

				### Acc√©der √† Magrit...

				<br><br>

				üòé **_Simplement en ouvrant votre navigateur √† l'adresse http://localhost:9999/_**

				<br>

				<img src="images/screenshot-magrit-local.png" />

				--

				*Il est ensuite possible de stopper ou de red√©marrer l'application depuis le menu __Containers__ de Docker Desktop.*

				<img src="images/docker-desktop-containers.png" style="width: 800px"/>
				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>

				## Pour r√©sumer ...

				- Une application de cartographie th√©matique en ligne, gratuite et libre

				- Capable et polyvalente

				- Maintenue (en ligne depuis 2017) et am√©lior√©e r√©guli√®rement

				</textarea>
			</section>
			<section data-markdown data-fullscreen>
				<textarea data-template>

				#### Merci pour votre attention !

				<br/>
				<a href="https://magrit.cnrs.fr" target="_blank">
					<img src="images/magrit_banner-crop.png" alt="Magrit logo" style="width: 100%; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
				</a>

				üêõ Rapport de bug, suggestions : https://github.com/riatelab/magrit/issues

				<br>

				üìß Contact : matthieu.viry@cnrs.fr
				</textarea>
			</section>

		</div>
	</div>
	<script src="dist/reveal.js"></script>
	<script src="plugin/zoom/zoom.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/search/search.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/menu/menu.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script src="plugin/chalkboard/plugin.js"></script>
	<script src="plugin/customcontrols/plugin.js"></script>
	<script src="plugin/fullscreen/plugin.js"></script>
	<script>
		document.querySelectorAll('section[data-markdown]')
			.forEach((elem) => {
				elem.setAttribute('data-separator-vertical', '--\n');
			});

		Reveal.initialize({
			controls: true,
			progress: true,
			center: true,
			hash: true,
			plugins: [
				RevealZoom,
				RevealNotes,
				RevealSearch,
				RevealMarkdown,
				RevealHighlight,
				RevealMenu,
				RevealChalkboard,
				RevealCustomControls,
				RevealFullscreen,
			],
			customcontrols: {
				controls: [	
					{ icon: '<i class="fa fa-pen-square"></i>',
					title: 'Toggle chalkboard (B)',
					action: 'RevealChalkboard.toggleChalkboard();'
					},
					{ icon: '<i class="fa fa-pen"></i>',
					title: 'Toggle notes canvas (C)',
					action: 'RevealChalkboard.toggleNotesCanvas();'
					}
				]
			},
		});

		Reveal.addEventListener( 'slidechanged', function(event) {
			const displayValue = (event.indexh === 0 && event.indexv === 0)
				? null
				: 'none';
			document.querySelector('.footer-intro').style.display = displayValue;
		});

	</script>

</body>
</html>
